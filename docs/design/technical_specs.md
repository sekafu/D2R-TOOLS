# D2R攻略ツール 技術仕様・機能詳細

## 🔍 ルーンワード検索ツール 機能仕様

### 基本検索機能

#### 検索項目
- **ルーン名検索**: 「ヴェックス」「Vex」などで検索
- **装備タイプ絞り込み**: 
  - 武器、鎧、盾、兜
  - 剣、斧、メイス、ポールアーム、遠隔武器、杖
- **ソケット数絞り込み**: 2〜6ソケット
- **レベル範囲絞り込み**: 最小・最大レベル指定
- **名前検索**: ルーンワード名での部分検索
- **効果検索**: キーワードによる効果検索

#### 効果検索キーワード例
```
攻撃系: "攻撃速度", "IAS", "ダメージ", "命中率"
防御系: "防御力", "耐性", "ダメージ軽減"
ユーティリティ: "MF", "ゴールド", "テレポート"
スキル系: "全スキル", "スキルレベル"
ステータス: "筋力", "敏捷性", "生命力", "エナジー"
```

### ルーン管理機能

#### LocalStorage仕様
```javascript
// データ構造例
{
  "playerRunes": {
    "エル": 5,
    "エルド": 3,
    "ティア": 2,
    "ネフ": 1,
    // ... 全ルーン
  },
  "settings": {
    "theme": "dark",
    "autoSave": true
  }
}
```

#### ルーン在庫管理
- **個数管理**: +/- ボタンで個数調整
- **リアルタイム更新**: 在庫変更時に即座に絞り込み結果更新
- **バックアップ機能**: JSON形式でエクスポート/インポート

### 作成可能性判定機能

#### 判定レベル
```
🟢 作成可能: 全ルーン所持
🟡 あと少し: 1〜2個足りない
🔴 作成不可: 3個以上足りない
⚪ 未所持: 必要ルーンを1個も持っていない
```

#### 絞り込みオプション
- すべて表示
- 作成可能のみ
- あと少しで作成可能
- 作成不可能
- 一部ルーン所持

#### 視覚的表示
- **カード境界線**: 作成可能性による色分け
- **ルーン表示**: ✅所持 / ❌不足 アイコン
- **不足ルーン**: 「あと ヴェックス x1 で作成可能！」

## 📊 データ構造

### ルーンワードデータ
```javascript
{
  name: "精霊",           // 日本語名
  english: "Spirit",      // 英語名
  level: 25,              // 必要レベル
  sockets: 4,             // ソケット数
  equipment: "剣盾",      // 対応装備
  runes: ["タル", "スル", "オルト", "アムン"], // 必要ルーン
  effects: [              // 効果一覧
    "全スキルレベル+2",
    "スキル発動速度（FCR）+25~35%",
    // ...
  ],
  version: "Ver. 1.10"    // 実装バージョン
}
```

### ルーンデータ
```javascript
{
  name: "ヴェックス",      // 日本語名
  english: "Vex",         // 英語名
  number: 26,             // ルーン番号
  dropLevel: 55,          // ドロップ開始レベル
  socketWeapon: "敵の火炎耐性減少-5%",
  socketArmor: "火炎耐性+5%",
  socketShield: "火炎耐性+5%",
  cubeFormula: "2x オーム → 1x ヴェックス"
}
```

## 🔧 技術実装

### ファイル分離構成
```
HTML: 構造とレイアウト
CSS: スタイリング（レスポンシブ対応）
JavaScript: 機能・ロジック
JSON/JS: データ定義
```

### パフォーマンス考慮
- **クライアントサイド検索**: 高速レスポンス
- **遅延読み込み**: 大量データの段階的表示
- **キャッシュ活用**: LocalStorageによる高速アクセス

### レスポンシブ対応
```css
/* ブレイクポイント */
Mobile: ~768px
Tablet: 768px~1024px
Desktop: 1024px~
```

## 🚀 将来拡張予定

### 追加機能候補
- **お気に入り機能**: よく使うルーンワードのブックマーク
- **作成履歴**: 過去に作成したルーンワードの記録
- **目標設定**: 作りたいルーンワードの目標リスト
- **トレード機能**: 必要/余剰ルーンの共有
- **統計表示**: 所持ルーンの価値計算

### API連携候補
- **価格情報**: リアルタイム相場データ
- **ドロップ率**: 最新のドロップ率情報
- **パッチ情報**: 自動アップデート通知